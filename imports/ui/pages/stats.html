<template name="stats">
  {{#if character}}
    <div class="stats-container">
      <div class="key-character-status">
        <h1>{{character.name}}</h1>
        <div class="body-boxes-container">
          <div class="row">
            <div class="head-box">
              {{#if equippedHead}}
                <img src="{{equippedHead.img}}"/>
              {{/if}}
            </div>
          </div>
          <div class="row">
            <div class="left-arm-box">
              {{#if equippedLeftHand}}
                <img src="{{equippedLeftHand.img}}"/>
              {{/if}}
            </div>
            <div class="chest-box">
              {{#if equippedChest}}
                <img src="{{equippedChest.img}}"/>
              {{/if}}
            </div>
            <div class="right-arm-box">
              {{#if equippedRightHand}}
                <img src="{{equippedRightHand.img}}"/>
              {{/if}}
            </div>
          </div>
          <div class="row">
            <div class="legs-box">
              {{#if equippedLegs}}
                <img src="{{equippedLegs.img}}"/>
              {{/if}}
            </div>
          </div>
        </div>
        {{> statusBars}}
        {{> miscStatus character}}

      </div>
      <div class="detail-tabs-container">
        <div class="tab-links">
          <a href="javascrip:void(0)" data-page="Skills" class="{{page 'Skills'}}">Skills</a>
          <a href="javascrip:void(0)" data-page="Items" class="{{page 'Items'}}">Items</a>
          <a href="javascrip:void(0)" data-page="Resources" class="{{page 'Resources'}}">Resources</a>
        </div>
        {{#if page 'Skills'}}
          <div class="skills-display-container">
            <h2>Basic combat skills</h2>
            <li data-stat="strength"><i class="fa fa-caret-right"></i> Strength: {{decimal character.stats.strength}} / {{decimal character.stats.baseStrength}}</li>
            <li data-stat="accuracy"><i class="fa fa-caret-right"></i> Accuracy: {{decimal character.stats.accuracy}} / {{decimal character.stats.baseAccuracy}}</li>
            <li data-stat="agility"><i class="fa fa-caret-right"></i> Agility: {{decimal character.stats.agility}} / {{decimal character.stats.baseAgility}}</li>
            <li data-stat="toughness"><i class="fa fa-caret-right"></i> Toughness: {{decimal character.stats.toughness}} / {{decimal character.stats.baseToughness}}</li>
            <h2>Weapon skills</h2>
            <li data-stat="weapon.hands"><i class="fa fa-caret-right"></i> Hands: {{decimal character.stats.weapon.hands}} / {{decimal character.stats.weapon.handsBase}}</li>
            <li data-stat="weapon.smallBlade"><i class="fa fa-caret-right"></i> Small Blade: {{decimal character.stats.weapon.smallBlade}} / {{decimal character.stats.weapon.smallBladeBase}}</li>
            <li data-stat="weapon.largeBlade"><i class="fa fa-caret-right"></i> Large Blade: {{decimal character.stats.weapon.largeBlade}} / {{decimal character.stats.weapon.largeBladeBase}}</li>
            <li data-stat="weapon.axe"><i class="fa fa-caret-right"></i> Axe: {{decimal character.stats.weapon.axe}} / {{decimal character.stats.weapon.axeBase}}</li>
            <h2>Resource collection skills</h2>
            <li data-stat="collecting.wood"><i class="fa fa-caret-right"></i> Wood: {{decimal character.stats.collecting.wood}} / {{decimal character.stats.collecting.woodBase}}</li>
            <li data-stat="collecting.hide"><i class="fa fa-caret-right"></i> Hide: {{decimal character.stats.collecting.hide}} / {{decimal character.stats.collecting.hideBase}}</li>
            <li data-stat="collecting.leather"><i class="fa fa-caret-right"></i> Leather: {{decimal character.stats.collecting.leather}} / {{decimal character.stats.collecting.leatherBase}}</li>
            <li data-stat="collecting.ore"><i class="fa fa-caret-right"></i> Ore: {{decimal character.stats.collecting.ore}} / {{decimal character.stats.collecting.oreBase}}</li>
            <li data-stat="collecting.metal"><i class="fa fa-caret-right"></i> Metal: {{decimal character.stats.collecting.metal}} / {{decimal character.stats.collecting.metalBase}}</li>
            <h2>Miscellaneous skills</h2>
            <li data-stat="endurance"><i class="fa fa-caret-right"></i> Endurance: {{decimal character.stats.endurance}}</li>
          </div>
        {{/if}}
        {{#if page 'Items'}}
          <div class="items-display-container">
            {{#each itemX in items}}
              <div class="{{itemSelectedClass itemX}}">
                {{> item itemX}}
              </div>
            {{else}}
              <p>You aren't carrying any items. What are you, poor?</p>
            {{/each}}
          </div>
        {{/if}}
        {{#if page 'Resources'}}
          <div class="resources-display-container">
            <li><i class="fa fa-caret-right"></i> Wood: {{character.stats.resources.wood}} lbs</li>
            <li><i class="fa fa-caret-right"></i> Hide: {{character.stats.resources.hide}} lbs</li>
            <li><i class="fa fa-caret-right"></i> Leather: {{character.stats.resources.leather}} lbs</li>
            <li><i class="fa fa-caret-right"></i> Ore: {{character.stats.resources.ore}} lbs</li>
            <li><i class="fa fa-caret-right"></i> Metal: {{character.stats.resources.metal}} lbs</li>
          </div>
        {{/if}}
      </div>
      <div class="action-menu-container">
        {{#if selectedStat}}
          <div class="stat-description">
            <p>{{selectedStat}}</p>
          </div>
        {{/if}}
        {{#if selectedItem}}
          <div class="item-action-menu">
            <div class="item-info">
              <h3>{{selectedItem.name}}</h3>
              <p>Weight: {{selectedItem.weight}}lbs</p>
              <p>Type: {{selectedItem.type}}</p>
              {{#if itemDescription}}
                <p>{{itemDescription}}</p>
              {{/if}}
            </div>
            <div class="item-actions">
              {{#if selectedItem.equipped}}
                <div class="action" data-action="unequip" data-id="{{selectedItem._id}}"><i class="fa fa-caret-right"></i> Unequip</div>
              {{else}}
                {{#if selectedItem.equipSlot}}
                  <div class="action" data-action="equip" data-id="{{selectedItem._id}}"><i class="fa fa-caret-right"></i> Equip</div>
                {{else}}
                  <div class="action" data-action="use" data-id="{{selectedItem._id}}"><i class="fa fa-caret-right"></i> Use</div>
                {{/if}}
              {{/if}}
              <div class="action" data-action="drop" data-id="{{selectedItem._id}}"><i class="fa fa-caret-right"></i> Drop</div>
            </div>
          </div>
        {{/if}}
      </div>
    </div>
  {{/if}}
</template>
